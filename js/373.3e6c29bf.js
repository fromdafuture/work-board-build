"use strict";(globalThis["webpackChunkwork_board"]=globalThis["webpackChunkwork_board"]||[]).push([[373],{1373:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ze});var o=t(9835);const i={style:{height:"100%",display:"flex","flex-direction":"column"}},r={class:"controls"};function n(e,s,t,n,a,u){const l=(0,o.up)("boards-holder"),d=(0,o.up)("add-issue"),c=(0,o.up)("layout-chooser"),p=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(p,{class:"flex full-width full-height column no-wrap"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(l,{class:"boards-holder",allIssues:e.issues},null,8,["allIssues"]),(0,o._)("div",r,[(0,o.Wm)(d,{class:"add-issue-holder"}),(0,o.Wm)(c,{class:"layout-chooser-holder"})])])])),_:1})}var a=t(6970);const u={class:"boards-holder__container"},l={class:"boards-holder__issue-types-container"},d={class:"boards-holder__delete-zone-sign"};function c(e,s,t,i,r,n){const c=(0,o.up)("single-board"),p=(0,o.up)("q-icon"),m=(0,o.up)("DropZone"),h=(0,o.up)("DragContainer");return(0,o.wg)(),(0,o.j4)(h,null,{default:(0,o.w5)((()=>[(0,o._)("div",u,[(0,o._)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.IssueStatuses,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"boards-holder__issue-type",style:(0,a.j5)({width:`calc(100% / ${r.IssueStatuses.length} - 10px)`}),key:e.type},(0,a.zw)(e.label),5)))),128))]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.Priorities,((e,s)=>((0,o.wg)(),(0,o.j4)(c,{class:"boards-holder__single-board",key:s,issues:t.allIssues,priorities:e},null,8,["issues","priorities"])))),128)),(0,o.Wm)(m,{class:"boards-holder__delete-zone",dragClass:"boards-holder__delete-zone-on-drag",onObjectDropped:s[0]||(s[0]=e=>n.onObjectDropped(e))},{default:(0,o.w5)((()=>[(0,o._)("div",d,[(0,o.Wm)(p,{name:"delete",size:"34px"})])])),_:1})])])),_:1})}const p={class:"sboard__container"},m={class:"sboard-header"},h={class:"sboard-header__closer-container"},g={class:"sboard-header__title"},_=(0,o._)("div",{class:"sboard-header__issues-quantity"},null,-1),y={key:0,class:"sboard-issues__container"},v={key:1,class:"sboard-header__closer-container-closed"};function w(e,s,t,i,r,n){const u=(0,o.up)("issue-item"),l=(0,o.up)("DropZone");return(0,o.wg)(),(0,o.iD)("div",p,[(0,o._)("div",m,[(0,o._)("div",h,[(0,o._)("div",{class:(0,a.C_)(["sboard-header__closer",{"sboard-header__closer-reverce":e.opened}]),onClick:s[0]||(s[0]=s=>e.opened=!e.opened)}," > ",2)]),(0,o._)("div",g,(0,a.zw)(e.filteredPriorities),1),_]),e.opened?((0,o.wg)(),(0,o.iD)("div",y,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.filteredIssues,(s=>((0,o.wg)(),(0,o.iD)("div",{class:"sboard-issues__column",style:(0,a.j5)({width:`calc(100% / ${e.filteredIssues.length} - 10px)`}),key:s.type},[(0,o.Wm)(l,{itemTypes:e.getItemTypes(s.type),onObjectDropped:t=>e.onObjectDropped(t,s.type)},{default:(0,o.w5)((()=>[s.issues.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(s.issues,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.date,issue:e,class:"sboard-issues__issue"},null,8,["issue"])))),128)):(0,o.kq)("",!0)])),_:2},1032,["itemTypes","onObjectDropped"])],4)))),128))])):((0,o.wg)(),(0,o.iD)("div",v))])}t(6727);const b=e=>((0,o.dD)("data-v-0a9597fc"),e=e(),(0,o.Cn)(),e),D={class:"issue"},I={class:"issue-signs"},f={class:"issue-signs__priority"},C={class:"issue-desc"},j={class:"issue-desc__title"},x={class:"issue-desc__text"},S=b((()=>(0,o._)("div",{class:"issue-desc__epic"},"epic",-1))),O=b((()=>(0,o._)("div",{class:"issue-info"},[(0,o._)("div",{class:"issue-info__avatar"},"A"),(0,o._)("div",{class:"issue-info__time"},"33m")],-1)));function T(e,s,t,i,r,n){const u=(0,o.up)("q-icon"),l=(0,o.up)("DragItem");return(0,o.wg)(),(0,o.j4)(l,{itemType:t.issue.status+t.issue.priority,itemObject:t.issue},{default:(0,o.w5)((()=>[(0,o._)("div",D,[(0,o._)("div",I,[(0,o._)("div",f,[(0,o.Wm)(u,{name:n.priorityMark,color:n.priorityColor,class:"icon"},null,8,["name","color"])])]),(0,o._)("div",C,[(0,o._)("div",null,(0,a.zw)(t.issue.type),1),(0,o._)("div",j,(0,a.zw)(t.issue.title),1),(0,o._)("div",x,(0,a.zw)(t.issue.text),1),S]),O])])),_:1},8,["itemType","itemObject"])}t(702);function k(e,s,t,i,r,n){return(0,o.wg)(),(0,o.iD)("div",{onMousedown:s[0]||(s[0]=(...s)=>e.onMouseDown&&e.onMouseDown(...s)),onMousemove:s[1]||(s[1]=(...s)=>e.onMouseMove&&e.onMouseMove(...s)),onMouseup:s[2]||(s[2]=(...s)=>e.onMouseUp&&e.onMouseUp(...s))},[(0,o.WI)(e.$slots,"default")],32)}const M=(0,o.aZ)({name:"DragItem",data(){return{movingCopy:null}},props:["itemType","itemObject"],inject:["setCurrentDragItem","setCurrentDragObject"],mounted(){},methods:{onMouseDown(e){this.setCurrentDragItem(this.$props.itemType),this.setCurrentDragObject(this.$props.itemObject);const s=this.$el.getBoundingClientRect(),t=document.createElement("div");t.style.zIndex="2000",t.style.display="block",t.style.position="absolute",t.style.top=s.top+"px",t.style.left=s.left+"px";const o=document.createElement("div");o.innerHTML=this.$el.innerHTML,o.classList=this.$el.classList,t.appendChild(o),document.body.appendChild(t),t.style.width=s.width.toString()+"px",t.style.height=s.height.toString()+"px",t.style.pointerEvents="none",this.movingCopy=t,document.dragInfo={draggedEl:t,offsetX:e.offsetX,offsetY:e.offsetY},document.body.onmousemove=Z,document.body.onmouseup=$.bind(this),document.body.style.overflow="hidden"},onMouseMove(e){},onMouseUp(e){}}});function Z(e){if(!document.dragInfo.draggedEl)return;e.preventDefault();const{draggedEl:s,offsetX:t,offsetY:o}=document.dragInfo;s.style.top=e.y-o+"px",s.style.left=e.x-t+"px"}function $(e){var s;null!==(s=document.dragInfo)&&void 0!==s&&s.draggedEl&&document.dragInfo.draggedEl.remove(),document.dragInfo.draggedEl=null,this.setCurrentDragItem(""),this.setCurrentDragObject(null)}var P=t(1639);const V=(0,P.Z)(M,[["render",k]]),W=V,z={name:"IssueItem",components:{DragItem:W},props:["issue"],data(){return{movingCopy:null}},computed:{priorityMark(){return q(this.issue.priority)},priorityColor(){return H(this.issue.priority)}},mounted(){},methods:{}},q=e=>U[e]||"up",H=e=>E[e]||"gray",U={highest:"arrow_upward",high:"arrow_upward",medium:"arrow_upward",low:"arrow_downward",lowest:"arrow_downward"},E={highest:"red",high:"orange",medium:"green",low:"yellow",lowest:"white"};var Y=t(2857),L=t(9984),K=t.n(L);const Q=(0,P.Z)(z,[["render",T],["__scopeId","data-v-0a9597fc"]]),R=Q;K()(z,"components",{QIcon:Y.Z});const B=[{value:"todo",label:"To Do"},{value:"inProgress",label:"In Progress"},{value:"codeReviewRequired",label:"Code Review Required"},{value:"approvalRequired",label:"Approval Required"},{value:"testInProgress",label:"Test in Progress"},{value:"done",label:"Done"}];function A(e,s,t,i,r,n){return(0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["drop-zone",{"drop-zone__high-lighted":e.hasValidItems,[e.dragClass]:e.highlightDragged}]),onMouseup:s[0]||(s[0]=(...s)=>e.onMouseUp&&e.onMouseUp(...s))},[(0,o.WI)(e.$slots,"default")],34)}const F=(0,o.aZ)({name:"DropZone",props:["itemTypes","dragClass"],inject:["currentDragItem","currentDragObject"],mounted(){},computed:{hasValidItems(){return this.currentDragObject&&(!this.itemTypes||this.itemTypes.includes(this.currentDragItem))},highlightDragged(){return this.hasValidItems&&this.dragClass?this.dragClass:""}},methods:{onMouseUp(){this.hasValidItems&&this.$emit("objectDropped",this.currentDragObject)}}}),X=(0,P.Z)(F,[["render",A]]),G=X,J=(0,o.aZ)({components:{IssueItem:R,DropZone:G},name:"SingleBoard",data(){return{IssueStatuses:B,opened:!0}},props:["issues","priorities"],computed:{boardIssues(){return this.issues.filter((e=>this.priorities.includes(e.priority)))},filteredIssues(){return B.map((e=>({type:e.value,issues:this.boardIssues.filter((s=>s.status==e.value)).sort(((e,s)=>e.priorityIndex>s.priorityIndex))})))},filteredPriorities(){return this.priorities.join(", ")},columnQuantity(){return B.length}},methods:{getItemTypes(e){const s=this.IssueStatuses.findIndex((s=>s.value==e)),t=[];return s>0&&t.push(this.IssueStatuses[s-1].value),s<this.IssueStatuses.length-1&&t.push(this.IssueStatuses[s+1].value),this.priorities.map((e=>t.map((s=>s+e)))).flat()},onObjectDropped(e,s){this.$store.commit("issues/changeIssue",{oldIssue:e,newIssue:{...e,status:s}})}}}),N=(0,P.Z)(J,[["render",w]]),ee=N;function se(e,s,t,i,r,n){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.WI)(e.$slots,"default")])}const te={data(){return{currentDragItem:"",currentDragObject:""}},methods:{setCurrentDragItem(e){this.currentDragItem=e},setCurrentDragObject(e){this.currentDragObject=e}},provide(){return{currentDragItem:(0,o.Fl)((()=>this.currentDragItem)),setCurrentDragItem:this.setCurrentDragItem,currentDragObject:(0,o.Fl)((()=>this.currentDragObject)),setCurrentDragObject:this.setCurrentDragObject}}},oe=(0,P.Z)(te,[["render",se]]),ie=oe,re={name:"BoardsHolder",components:{DragContainer:ie,SingleBoard:ee,DropZone:G},data(){return{IssueStatuses:B}},props:["allIssues"],computed:{Priorities(){return this.$store.state.issues.priorities}},methods:{onObjectDropped(e){this.$store.commit("issues/removeIssue",e)}}},ne=(0,P.Z)(re,[["render",c]]),ae=ne;K()(re,"components",{QIcon:Y.Z});var ue=t(1957);const le={class:"add-issue__inputs"},de={class:"add-issue__dropdowns"},ce=(0,o._)("span",null,"Priority",-1),pe=(0,o._)("span",null,"Status",-1),me={class:"add-issue__texts"},he=(0,o._)("span",null,"Title",-1),ge=(0,o._)("span",null,"Text",-1),_e=(0,o.Uk)("Submit");function ye(e,s,t,i,r,n){const a=(0,o.up)("q-select"),u=(0,o.up)("q-input"),l=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("form",{class:"add-issue__form",onSubmit:s[4]||(s[4]=(0,ue.iM)(((...e)=>n.onSubmit&&n.onSubmit(...e)),["prevent"]))},[(0,o._)("div",le,[(0,o._)("div",de,[ce,(0,o.Wm)(a,{name:"priority",dense:"","options-dense":"",outlined:"",modelValue:r.isssuePriority,"onUpdate:modelValue":s[0]||(s[0]=e=>r.isssuePriority=e),options:n.priorityOptions},null,8,["modelValue","options"]),pe,(0,o.Wm)(a,{name:"status",dense:"","options-dense":"",outlined:"",modelValue:r.issueStatus,"onUpdate:modelValue":s[1]||(s[1]=e=>r.issueStatus=e),options:n.statuses,"emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,o._)("div",me,[he,(0,o.Wm)(u,{name:"title",outlined:"",dense:"",placeholder:"Place some title here",modelValue:r.issueTitle,"onUpdate:modelValue":s[2]||(s[2]=e=>r.issueTitle=e)},null,8,["modelValue"]),ge,(0,o.Wm)(u,{name:"text",outlined:"",dense:"",placeholder:"Place some text here",modelValue:r.issueText,"onUpdate:modelValue":s[3]||(s[3]=e=>r.issueText=e)},null,8,["modelValue"])])]),(0,o.Wm)(l,{type:"submit",class:"add-issue__button"},{default:(0,o.w5)((()=>[_e])),_:1})],32)}const ve={name:"AssIssue",data(){return{isssuePriority:"",issueStatus:"",issueTitle:"",issueText:""}},computed:{priorityOptions(){return this.$store.state.issues.priorities.flat()},statuses(){return B}},mounted(){this.isssuePriority=this.priorityOptions[0],this.issueStatus=this.statuses[0]},methods:{onSubmit(e){const{priority:s,status:t,title:o,text:i}=Object.fromEntries(new FormData(e.target));this.$store.commit("issues/addIssue",{priority:s,status:t,title:o,priorityIndex:1,text:i,date:Date.now()}),this.issueTitle="",this.issueText=""}}};var we=t(8945),be=t(6611),De=t(9379);const Ie=(0,P.Z)(ve,[["render",ye]]),fe=Ie;K()(ve,"components",{QSelect:we.Z,QInput:be.Z,QBtn:De.Z});const Ce=e=>((0,o.dD)("data-v-5117573c"),e=e(),(0,o.Cn)(),e),je={class:"layouts-container"},xe=Ce((()=>(0,o._)("div",{class:"title"},"Choose Layout:",-1))),Se={class:"layouts"},Oe=["onClick"],Te={class:"layout__title"};function ke(e,s,t,i,r,n){return(0,o.wg)(),(0,o.iD)("div",je,[xe,(0,o._)("div",Se,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.layouts,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.type,class:(0,a.C_)(["layout",{"layout-selected":r.layoutSelected==e.type}]),onClick:s=>n.onClick(e)},[(0,o._)("div",Te,(0,a.zw)(e.type)+":",1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.layout,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e[0],class:"layout__priorities"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"layout__priority",style:{overflow:"hidden"}},(0,a.zw)(e),1)))),128))])))),128))],10,Oe)))),128))])])}const Me={name:"LayoutChooser",data(){return{layoutSelected:"Separated",layouts:{separated:{type:"Separated",layout:[["highest","high"],["medium","low","lowest"]]},single:{type:"Single",layout:[["highest"],["high"],["medium"],["low"],["lowest"]]}}}},methods:{onClick(e){this.layoutSelected=e.type,this.$store.commit("issues/setLayout",e.layout)}}},Ze=(0,P.Z)(Me,[["render",ke],["__scopeId","data-v-5117573c"]]),$e=Ze,Pe=(0,o.aZ)({components:{BoardsHolder:ae,AddIssue:fe,LayoutChooser:$e},name:"IndexPage",computed:{issues(){return this.$store.state.issues.issues}}});var Ve=t(9885);const We=(0,P.Z)(Pe,[["render",n]]),ze=We;K()(Pe,"components",{QPage:Ve.Z})}}]);