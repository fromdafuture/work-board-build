"use strict";(globalThis["webpackChunkwork_board"]=globalThis["webpackChunkwork_board"]||[]).push([[358],{3358:(e,s,t)=>{t.r(s),t.d(s,{default:()=>qe});var o=t(9835);const i={style:{height:"100%",display:"flex","flex-direction":"column"}},r={class:"controls"};function n(e,s,t,n,u,a){const l=(0,o.up)("boards-holder"),d=(0,o.up)("add-issue"),c=(0,o.up)("layout-chooser"),p=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(p,{class:"flex full-width full-height column no-wrap"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[(0,o.Wm)(l,{class:"boards-holder",allIssues:e.issues},null,8,["allIssues"]),(0,o._)("div",r,[(0,o.Wm)(d,{class:"add-issue-holder"}),(0,o.Wm)(c,{class:"layout-chooser-holder"})])])])),_:1})}var u=t(6970);const a={class:"boards-holder__container"},l={class:"boards-holder__issue-types-container"};function d(e,s,t,i,r,n){const d=(0,o.up)("single-board"),c=(0,o.up)("DragContainer");return(0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",a,[(0,o._)("div",l,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.IssueStatuses,(s=>((0,o.wg)(),(0,o.iD)("div",{class:"boards-holder__issue-type",style:(0,u.j5)({width:`calc(100% / ${e.IssueStatuses.length} - 10px)`}),key:s.type},(0,u.zw)(s.label),5)))),128))]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.Priorities,((s,t)=>((0,o.wg)(),(0,o.j4)(d,{class:"boards-holder__single-board",key:t,issues:e.allIssues,priorities:s},null,8,["issues","priorities"])))),128))])])),_:1})}const c={class:"sboard__container"},p={class:"sboard-header"},m={class:"sboard-header__closer-container"},g={class:"sboard-header__title"},h=(0,o._)("div",{class:"sboard-header__issues-quantity"},null,-1),_={key:0,class:"sboard-issues__container"},y={key:1,class:"sboard-header__closer-container-closed"};function v(e,s,t,i,r,n){const a=(0,o.up)("issue-item"),l=(0,o.up)("DropZone");return(0,o.wg)(),(0,o.iD)("div",c,[(0,o._)("div",p,[(0,o._)("div",m,[(0,o._)("div",{class:(0,u.C_)(["sboard-header__closer",{"sboard-header__closer-reverce":e.opened}]),onClick:s[0]||(s[0]=s=>e.opened=!e.opened)}," > ",2)]),(0,o._)("div",g,(0,u.zw)(e.filteredPriorities),1),h]),e.opened?((0,o.wg)(),(0,o.iD)("div",_,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.filteredIssues,(s=>((0,o.wg)(),(0,o.iD)("div",{class:"sboard-issues__column",style:(0,u.j5)({width:`calc(100% / ${e.filteredIssues.length} - 10px)`}),key:s.type},[(0,o.Wm)(l,{itemTypes:e.getItemTypes(s.type),onObjectDropped:t=>e.onObjectDropped(t,s.type)},{default:(0,o.w5)((()=>[s.issues.length>0?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(s.issues,(e=>((0,o.wg)(),(0,o.j4)(a,{key:e.date,issue:e,class:"sboard-issues__issue"},null,8,["issue"])))),128)):(0,o.kq)("",!0)])),_:2},1032,["itemTypes","onObjectDropped"])],4)))),128))])):((0,o.wg)(),(0,o.iD)("div",y))])}t(6727);const w=e=>((0,o.dD)("data-v-238f4763"),e=e(),(0,o.Cn)(),e),b={class:"issue"},f={class:"issue-signs"},D=w((()=>(0,o._)("div",{class:"issue-signs__type"},"O",-1))),I={class:"issue-signs__priority"},C={class:"issue-desc"},j={class:"issue-desc__title"},x={class:"issue-desc__text"},k=w((()=>(0,o._)("div",{class:"issue-desc__epic"},"epic",-1))),Z=w((()=>(0,o._)("div",{class:"issue-info"},[(0,o._)("div",{class:"issue-info__avatar"},"A"),(0,o._)("div",{class:"issue-info__time"},"33m")],-1)));function S(e,s,t,i,r,n){const a=(0,o.up)("q-icon"),l=(0,o.up)("DragItem");return(0,o.wg)(),(0,o.j4)(l,{itemType:e.issue.status+e.issue.priority,itemObject:e.issue},{default:(0,o.w5)((()=>[(0,o._)("div",b,[(0,o._)("div",f,[D,(0,o._)("div",I,[(0,o.Wm)(a,{name:e.priorityMark,color:e.priorityColor,class:"icon"},null,8,["name","color"])])]),(0,o._)("div",C,[(0,o._)("div",null,(0,u.zw)(e.issue.type),1),(0,o._)("div",j,(0,u.zw)(e.issue.title),1),(0,o._)("div",x,(0,u.zw)(e.issue.text),1),k]),Z])])),_:1},8,["itemType","itemObject"])}t(702);function T(e,s,t,i,r,n){return(0,o.wg)(),(0,o.iD)("div",{onMousedown:s[0]||(s[0]=(...s)=>e.onMouseDown&&e.onMouseDown(...s)),onMousemove:s[1]||(s[1]=(...s)=>e.onMouseMove&&e.onMouseMove(...s)),onMouseup:s[2]||(s[2]=(...s)=>e.onMouseUp&&e.onMouseUp(...s))},[(0,o.WI)(e.$slots,"default")],32)}const M=(0,o.aZ)({name:"DragItem",data(){return{movingCopy:null}},props:["itemType","itemObject"],inject:["setCurrentDragItem","setCurrentDragObject"],mounted(){},methods:{onMouseDown(e){this.setCurrentDragItem(this.$props.itemType),this.setCurrentDragObject(this.$props.itemObject);const s=this.$el.getBoundingClientRect(),t=document.createElement("div");t.style.zIndex="2000",t.style.display="block",t.style.position="absolute",t.style.top=s.top+"px",t.style.left=s.left+"px";const o=document.createElement("div");o.innerHTML=this.$el.innerHTML,o.classList=this.$el.classList,t.appendChild(o),document.body.appendChild(t),t.style.width=s.width.toString()+"px",t.style.height=s.height.toString()+"px",t.style.pointerEvents="none",this.movingCopy=t,document.dragInfo={draggedEl:t,offsetX:e.offsetX,offsetY:e.offsetY},document.body.onmousemove=O,document.body.onmouseup=$.bind(this),document.body.style.overflow="hidden"},onMouseMove(e){},onMouseUp(e){}}});function O(e){if(!document.dragInfo.draggedEl)return;e.preventDefault();const{draggedEl:s,offsetX:t,offsetY:o}=document.dragInfo;s.style.top=e.y-o+"px",s.style.left=e.x-t+"px"}function $(e){var s;null!==(s=document.dragInfo)&&void 0!==s&&s.draggedEl&&document.dragInfo.draggedEl.remove(),document.dragInfo.draggedEl=null,this.setCurrentDragItem("")}var P=t(1639);const W=(0,P.Z)(M,[["render",T]]),V=W,q=(0,o.aZ)({name:"IssueItem",components:{DragItem:V},props:["issue"],data(){return{movingCopy:null}},computed:{priorityMark(){return H(this.issue.priority)},priorityColor(){return L(this.issue.priority)}},mounted(){},methods:{}}),H=e=>U[e]||"up",L=e=>E[e]||"gray",U={highest:"arrow_upward",high:"arrow_upward",medium:"arrow_upward",low:"arrow_downward",lowest:"arrow_downward"},E={highest:"red",high:"orange",medium:"green",low:"yellow",lowest:"white"};var Y=t(2857),z=t(9984),K=t.n(z);const R=(0,P.Z)(q,[["render",S],["__scopeId","data-v-238f4763"]]),B=R;K()(q,"components",{QIcon:Y.Z});const Q=[{value:"todo",label:"To Do"},{value:"inProgress",label:"In Progress"},{value:"codeReviewRequired",label:"Code Review Required"},{value:"approvalRequired",label:"Approval Required"},{value:"testInProgress",label:"Test in Progress"},{value:"done",label:"Done"}];function A(e,s,t,i,r,n){return(0,o.wg)(),(0,o.iD)("div",{class:(0,u.C_)(["dropZone",{highLighted:e.highLight}]),onMouseup:s[0]||(s[0]=(...s)=>e.onMouseUp&&e.onMouseUp(...s))},[(0,o.WI)(e.$slots,"default")],34)}const F=(0,o.aZ)({name:"DropZone",props:["itemTypes"],inject:["currentDragItem","currentDragObject"],mounted(){},computed:{highLight(){return this.itemTypes.includes(this.currentDragItem)}},methods:{onMouseUp(){this.itemTypes.includes(this.currentDragItem)&&this.$emit("objectDropped",this.currentDragObject)}}}),X=(0,P.Z)(F,[["render",A]]),G=X,J=(0,o.aZ)({components:{IssueItem:B,DropZone:G},name:"SingleBoard",data(){return{IssueStatuses:Q,opened:!0}},props:["issues","priorities"],computed:{boardIssues(){return this.issues.filter((e=>this.priorities.includes(e.priority)))},filteredIssues(){return Q.map((e=>({type:e.value,issues:this.boardIssues.filter((s=>s.status==e.value)).sort(((e,s)=>e.priorityIndex>s.priorityIndex))})))},filteredPriorities(){return this.priorities.join(", ")},columnQuantity(){return Q.length}},methods:{getItemTypes(e){const s=this.IssueStatuses.findIndex((s=>s.value==e)),t=[];return s>0&&t.push(this.IssueStatuses[s-1].value),s<this.IssueStatuses.length-1&&t.push(this.IssueStatuses[s+1].value),this.priorities.map((e=>t.map((s=>s+e)))).flat()},onObjectDropped(e,s){this.$store.commit("issues/changeIssue",{oldIssue:e,newIssue:{...e,status:s}})}}}),N=(0,P.Z)(J,[["render",v]]),ee=N;function se(e,s,t,i,r,n){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.WI)(e.$slots,"default")])}const te={data(){return{currentDragItem:"",currentDragObject:""}},methods:{setCurrentDragItem(e){this.currentDragItem=e},setCurrentDragObject(e){this.currentDragObject=e}},provide(){return{currentDragItem:(0,o.Fl)((()=>this.currentDragItem)),setCurrentDragItem:this.setCurrentDragItem,currentDragObject:(0,o.Fl)((()=>this.currentDragObject)),setCurrentDragObject:this.setCurrentDragObject}}},oe=(0,P.Z)(te,[["render",se]]),ie=oe,re=(0,o.aZ)({name:"BoardsHolder",components:{DragContainer:ie,SingleBoard:ee},data(){return{IssueStatuses:Q}},props:["allIssues"],computed:{Priorities(){return this.$store.state.issues.priorities}}}),ne=(0,P.Z)(re,[["render",d]]),ue=ne;var ae=t(1957);const le={class:"add-issue__inputs"},de={class:"add-issue__dropdowns"},ce=(0,o._)("span",null,"Priority",-1),pe=(0,o._)("span",null,"Status",-1),me={class:"add-issue__texts"},ge=(0,o._)("span",null,"Title",-1),he=(0,o._)("span",null,"Text",-1),_e=(0,o.Uk)("Submit");function ye(e,s,t,i,r,n){const u=(0,o.up)("q-select"),a=(0,o.up)("q-input"),l=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("form",{class:"add-issue__form",onSubmit:s[4]||(s[4]=(0,ae.iM)(((...s)=>e.onSubmit&&e.onSubmit(...s)),["prevent"]))},[(0,o._)("div",le,[(0,o._)("div",de,[ce,(0,o.Wm)(u,{name:"priority",dense:"","options-dense":"",outlined:"",modelValue:e.isssuePriority,"onUpdate:modelValue":s[0]||(s[0]=s=>e.isssuePriority=s),options:e.priorityOptions},null,8,["modelValue","options"]),pe,(0,o.Wm)(u,{name:"status",dense:"","options-dense":"",outlined:"",modelValue:e.issueStatus,"onUpdate:modelValue":s[1]||(s[1]=s=>e.issueStatus=s),options:e.statuses,"emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,o._)("div",me,[ge,(0,o.Wm)(a,{name:"title",outlined:"",dense:"",label:"",modelValue:e.issueTitle,"onUpdate:modelValue":s[2]||(s[2]=s=>e.issueTitle=s)},null,8,["modelValue"]),he,(0,o.Wm)(a,{name:"text",outlined:"",dense:"",label:"",modelValue:e.issueText,"onUpdate:modelValue":s[3]||(s[3]=s=>e.issueText=s)},null,8,["modelValue"])])]),(0,o.Wm)(l,{type:"submit",class:"add-issue__button"},{default:(0,o.w5)((()=>[_e])),_:1})],32)}const ve=(0,o.aZ)({name:"AssIssue",data(){return{isssuePriority:"",issueStatus:"",issueTitle:"",issueText:""}},computed:{priorityOptions(){return this.$store.state.issues.priorities.flat()},statuses(){return Q}},mounted(){this.isssuePriority=this.priorityOptions[0],this.issueStatus=this.statuses[0]},methods:{onSubmit(e){const{priority:s,status:t,title:o,text:i}=Object.fromEntries(new FormData(e.target));this.$store.commit("issues/addIssue",{priority:s,status:t,title:o,priorityIndex:1,text:i,date:Date.now()})}}});var we=t(8945),be=t(6611),fe=t(9379);const De=(0,P.Z)(ve,[["render",ye]]),Ie=De;K()(ve,"components",{QSelect:we.Z,QInput:be.Z,QBtn:fe.Z});const Ce=e=>((0,o.dD)("data-v-62168786"),e=e(),(0,o.Cn)(),e),je={class:"layouts-container"},xe=Ce((()=>(0,o._)("div",{class:"title"},"Choose Layout:",-1))),ke={class:"layouts"},Ze=["onClick"],Se={class:"layout__title"};function Te(e,s,t,i,r,n){return(0,o.wg)(),(0,o.iD)("div",je,[xe,(0,o._)("div",ke,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.layouts,(s=>((0,o.wg)(),(0,o.iD)("div",{key:s.type,class:"layout",onClick:t=>e.onClick(s.layout)},[(0,o._)("div",Se,(0,u.zw)(s.type)+":",1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.layout,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e[0],class:"layout__priorities"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"layout__priority"},(0,u.zw)(e),1)))),128))])))),128))],8,Ze)))),128))])])}const Me=(0,o.aZ)({name:"LayoutChooser",data(){return{layouts:{1:{type:"Separated",layout:[["highest","high"],["medium","low","lowest"]]},2:{type:"Single",layout:[["highest"],["high"],["medium"],["low"],["lowest"]]}}}},methods:{onClick(e){this.$store.commit("issues/setLayout",e)}}}),Oe=(0,P.Z)(Me,[["render",Te],["__scopeId","data-v-62168786"]]),$e=Oe,Pe=(0,o.aZ)({components:{BoardsHolder:ue,AddIssue:Ie,LayoutChooser:$e},name:"IndexPage",computed:{issues(){return this.$store.state.issues.issues}}});var We=t(9885);const Ve=(0,P.Z)(Pe,[["render",n]]),qe=Ve;K()(Pe,"components",{QPage:We.Z})}}]);