"use strict";(globalThis["webpackChunkwork_board"]=globalThis["webpackChunkwork_board"]||[]).push([[276],{6276:(e,s,t)=>{t.r(s),t.d(s,{default:()=>Ce});var i=t(9835);function o(e,s,t,o,r,n){const u=(0,i.up)("boards-holder"),a=(0,i.up)("add-issue"),l=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(l,{class:"flex full-width full-height column no-wrap"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"board-holder",allIssues:e.issues},null,8,["allIssues"]),(0,i.Wm)(a,{class:"add-issue-holder"})])),_:1})}var r=t(6970);const n={class:"boards-holder__container"},u={class:"boards-holder__issue-types-container"};function a(e,s,t,o,a,l){const d=(0,i.up)("single-board"),c=(0,i.up)("DragContainer");return(0,i.wg)(),(0,i.j4)(c,null,{default:(0,i.w5)((()=>[(0,i._)("div",n,[(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.IssueStatuses,(s=>((0,i.wg)(),(0,i.iD)("div",{class:"boards-holder__issue-type",style:(0,r.j5)({width:`calc(100% / ${e.IssueStatuses.length} - 10px)`}),key:s.type},(0,r.zw)(s.label),5)))),128))]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.Priorities,((s,t)=>((0,i.wg)(),(0,i.j4)(d,{class:"boards-holder__single-board",key:t,issues:e.allIssues,priorities:s},null,8,["issues","priorities"])))),128))])])),_:1})}const l={class:"sboard__container"},d={class:"sboard-header"},c={class:"sboard-header__closer-container"},p={class:"sboard-header__title"},m=(0,i._)("div",{class:"sboard-header__issues-quantity"},null,-1),g={key:0,class:"sboard-issues__container"},h={key:1,class:"sboard-header__closer-container-closed"};function _(e,s,t,o,n,u){const a=(0,i.up)("issue-item"),_=(0,i.up)("DropZone");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",d,[(0,i._)("div",c,[(0,i._)("div",{class:(0,r.C_)(["sboard-header__closer",{"sboard-header__closer-reverce":e.opened}]),onClick:s[0]||(s[0]=s=>e.opened=!e.opened)}," > ",2)]),(0,i._)("div",p,(0,r.zw)(e.filteredPriorities),1),m]),e.opened?((0,i.wg)(),(0,i.iD)("div",g,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filteredIssues,(s=>((0,i.wg)(),(0,i.iD)("div",{class:"sboard-issues__column",style:(0,r.j5)({width:`calc(100% / ${e.filteredIssues.length} - 10px)`}),key:s.type},[(0,i.Wm)(_,{itemTypes:e.getItemTypes(s.type),onObjectDropped:t=>e.onObjectDropped(t,s.type)},{default:(0,i.w5)((()=>[s.issues.length>0?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(s.issues,(e=>((0,i.wg)(),(0,i.j4)(a,{key:e.date,issue:e,class:"sboard-issues__issue"},null,8,["issue"])))),128)):(0,i.kq)("",!0)])),_:2},1032,["itemTypes","onObjectDropped"])],4)))),128))])):((0,i.wg)(),(0,i.iD)("div",h))])}t(6727);const y=e=>((0,i.dD)("data-v-cbc81588"),e=e(),(0,i.Cn)(),e),v={class:"issue"},b={class:"issue-signs"},w=y((()=>(0,i._)("div",{class:"issue-signs__type"},"O",-1))),I={class:"issue-signs__priority"},f={class:"issue-desc"},D={class:"issue-desc__title"},j={class:"issue-desc__text"},C=y((()=>(0,i._)("div",{class:"issue-desc__epic"},"epic",-1))),x=y((()=>(0,i._)("div",{class:"issue-info"},[(0,i._)("div",{class:"issue-info__avatar"},"A"),(0,i._)("div",{class:"issue-info__time"},"33m")],-1)));function T(e,s,t,o,n,u){const a=(0,i.up)("q-icon"),l=(0,i.up)("DragItem");return(0,i.wg)(),(0,i.j4)(l,{itemType:e.issue.status+e.issue.priority,itemObject:e.issue},{default:(0,i.w5)((()=>[(0,i._)("div",v,[(0,i._)("div",b,[w,(0,i._)("div",I,[(0,i.Wm)(a,{name:e.priorityMark,color:e.priorityColor,class:"icon"},null,8,["name","color"])])]),(0,i._)("div",f,[(0,i._)("div",null,(0,r.zw)(e.issue.type),1),(0,i._)("div",D,(0,r.zw)(e.issue.title),1),(0,i._)("div",j,(0,r.zw)(e.issue.text),1),C]),x])])),_:1},8,["itemType","itemObject"])}t(702);function M(e,s,t,o,r,n){return(0,i.wg)(),(0,i.iD)("div",{onMousedown:s[0]||(s[0]=(...s)=>e.onMouseDown&&e.onMouseDown(...s)),onMousemove:s[1]||(s[1]=(...s)=>e.onMouseMove&&e.onMouseMove(...s)),onMouseup:s[2]||(s[2]=(...s)=>e.onMouseUp&&e.onMouseUp(...s))},[(0,i.WI)(e.$slots,"default")],32)}const O=(0,i.aZ)({name:"DragItem",data(){return{movingCopy:null}},props:["itemType","itemObject"],inject:["setCurrentDragItem","setCurrentDragObject"],mounted(){},methods:{onMouseDown(e){this.setCurrentDragItem(this.$props.itemType),this.setCurrentDragObject(this.$props.itemObject);const s=this.$el.getBoundingClientRect(),t=document.createElement("div");t.style.zIndex="2000",t.style.display="block",t.style.position="absolute",t.style.top=s.top+"px",t.style.left=s.left+"px";const i=document.createElement("div");i.innerHTML=this.$el.innerHTML,i.classList=this.$el.classList,t.appendChild(i),document.body.appendChild(t),t.style.width=s.width.toString()+"px",t.style.height=s.height.toString()+"px",t.style.pointerEvents="none",this.movingCopy=t,document.dragInfo={draggedEl:t,offsetX:e.offsetX,offsetY:e.offsetY},document.body.onmousemove=Z,document.body.onmouseup=S.bind(this),document.body.style.overflow="hidden"},onMouseMove(e){},onMouseUp(e){}}});function Z(e){if(!document.dragInfo.draggedEl)return;e.preventDefault();const{draggedEl:s,offsetX:t,offsetY:i}=document.dragInfo;s.style.top=e.y-i+"px",s.style.left=e.x-t+"px"}function S(e){var s;null!==(s=document.dragInfo)&&void 0!==s&&s.draggedEl&&document.dragInfo.draggedEl.remove(),document.dragInfo.draggedEl=null,this.setCurrentDragItem("")}var k=t(1639);const $=(0,k.Z)(O,[["render",M]]),P=$,V=(0,i.aZ)({name:"IssueItem",components:{DragItem:P},props:["issue"],data(){return{movingCopy:null}},computed:{priorityMark(){return W(this.issue.priority)},priorityColor(){return q(this.issue.priority)}},mounted(){},methods:{}}),W=e=>U[e]||"up",q=e=>E[e]||"gray",U={highest:"arrow_upward",high:"arrow_upward",medium:"arrow_upward",low:"arrow_downward",lowest:"arrow_downward"},E={highest:"red",high:"orange",medium:"green",low:"yellow",lowest:"white"};var H=t(2857),L=t(9984),R=t.n(L);const Y=(0,k.Z)(V,[["render",T],["__scopeId","data-v-cbc81588"]]),z=Y;R()(V,"components",{QIcon:H.Z});const B=[{value:"todo",label:"To Do"},{value:"inProgress",label:"In Progress"},{value:"codeReviewRequired",label:"Code Review Required"},{value:"approvalRequired",label:"Approval Required"},{value:"testInProgress",label:"Test in Progress"},{value:"done",label:"Done"}];function Q(e,s,t,o,n,u){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["dropZone",{highLighted:e.highLight}]),onMouseup:s[0]||(s[0]=(...s)=>e.onMouseUp&&e.onMouseUp(...s))},[(0,i.WI)(e.$slots,"default")],34)}const A=(0,i.aZ)({name:"DropZone",props:["itemTypes"],inject:["currentDragItem","currentDragObject"],mounted(){},computed:{highLight(){return this.itemTypes.includes(this.currentDragItem)}},methods:{onMouseUp(){this.itemTypes.includes(this.currentDragItem)&&this.$emit("objectDropped",this.currentDragObject)}}}),K=(0,k.Z)(A,[["render",Q]]),F=K,X=(0,i.aZ)({components:{IssueItem:z,DropZone:F},name:"SingleBoard",data(){return{IssueStatuses:B,opened:!0}},props:["issues","priorities"],computed:{boardIssues(){return this.issues.filter((e=>this.priorities.includes(e.priority)))},filteredIssues(){return B.map((e=>({type:e.value,issues:this.boardIssues.filter((s=>s.status==e.value)).sort(((e,s)=>e.priorityIndex>s.priorityIndex))})))},filteredPriorities(){return this.priorities.join(", ")},columnQuantity(){return B.length}},methods:{getItemTypes(e){const s=this.IssueStatuses.findIndex((s=>s.value==e)),t=[];return s>0&&t.push(this.IssueStatuses[s-1].value),s<this.IssueStatuses.length-1&&t.push(this.IssueStatuses[s+1].value),this.priorities.map((e=>t.map((s=>s+e)))).flat()},onObjectDropped(e,s){this.$store.commit("issues/changeIssue",{oldIssue:e,newIssue:{...e,status:s}})}}}),G=(0,k.Z)(X,[["render",_]]),J=G;function N(e,s,t,o,r,n){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.WI)(e.$slots,"default")])}const ee={data(){return{currentDragItem:"",currentDragObject:""}},methods:{setCurrentDragItem(e){this.currentDragItem=e},setCurrentDragObject(e){this.currentDragObject=e}},provide(){return{currentDragItem:(0,i.Fl)((()=>this.currentDragItem)),setCurrentDragItem:this.setCurrentDragItem,currentDragObject:(0,i.Fl)((()=>this.currentDragObject)),setCurrentDragObject:this.setCurrentDragObject}}},se=(0,k.Z)(ee,[["render",N]]),te=se,ie=(0,i.aZ)({name:"BoardsHolder",components:{DragContainer:te,SingleBoard:J},data(){return{IssueStatuses:B}},props:["allIssues"],computed:{Priorities(){return this.$store.state.issues.priorities}}}),oe=(0,k.Z)(ie,[["render",a]]),re=oe;var ne=t(1957);const ue={class:"add-issue__inputs"},ae={class:"add-issue__dropdowns"},le=(0,i._)("span",null,"Priority",-1),de=(0,i._)("span",null,"Status",-1),ce={class:"add-issue__texts"},pe=(0,i._)("span",null,"Title",-1),me=(0,i._)("span",null,"Text",-1),ge=(0,i.Uk)("Submit");function he(e,s,t,o,r,n){const u=(0,i.up)("q-select"),a=(0,i.up)("q-input"),l=(0,i.up)("q-btn");return(0,i.wg)(),(0,i.iD)("form",{class:"add-issue__form",onSubmit:s[4]||(s[4]=(0,ne.iM)(((...s)=>e.onSubmit&&e.onSubmit(...s)),["prevent"]))},[(0,i._)("div",ue,[(0,i._)("div",ae,[le,(0,i.Wm)(u,{name:"priority",dense:"","options-dense":"",outlined:"",modelValue:e.isssuePriority,"onUpdate:modelValue":s[0]||(s[0]=s=>e.isssuePriority=s),options:e.priorityOptions},null,8,["modelValue","options"]),de,(0,i.Wm)(u,{name:"status",dense:"","options-dense":"",outlined:"",modelValue:e.issueStatus,"onUpdate:modelValue":s[1]||(s[1]=s=>e.issueStatus=s),options:e.statuses,"emit-value":"","map-options":""},null,8,["modelValue","options"])]),(0,i._)("div",ce,[pe,(0,i.Wm)(a,{name:"title",outlined:"",dense:"",label:"",modelValue:e.issueTitle,"onUpdate:modelValue":s[2]||(s[2]=s=>e.issueTitle=s)},null,8,["modelValue"]),me,(0,i.Wm)(a,{name:"text",outlined:"",dense:"",label:"",modelValue:e.issueText,"onUpdate:modelValue":s[3]||(s[3]=s=>e.issueText=s)},null,8,["modelValue"])])]),(0,i.Wm)(l,{type:"submit",class:"add-issue__button"},{default:(0,i.w5)((()=>[ge])),_:1})],32)}const _e=(0,i.aZ)({name:"AssIssue",data(){return{isssuePriority:"",issueStatus:"",issueTitle:"",issueText:""}},computed:{priorityOptions(){return this.$store.state.issues.priorities.flat()},statuses(){return B}},mounted(){this.isssuePriority=this.priorityOptions[0],this.issueStatus=this.statuses[0]},methods:{onSubmit(e){const{priority:s,status:t,title:i,text:o}=Object.fromEntries(new FormData(e.target));this.$store.commit("issues/addIssue",{priority:s,status:t,title:i,priorityIndex:1,text:o,date:Date.now()})}}});var ye=t(8945),ve=t(6611),be=t(9379);const we=(0,k.Z)(_e,[["render",he]]),Ie=we;R()(_e,"components",{QSelect:ye.Z,QInput:ve.Z,QBtn:be.Z});const fe=(0,i.aZ)({components:{BoardsHolder:re,AddIssue:Ie},name:"IndexPage",computed:{issues(){return this.$store.state.issues.issues}}});var De=t(9885);const je=(0,k.Z)(fe,[["render",o]]),Ce=je;R()(fe,"components",{QPage:De.Z})}}]);